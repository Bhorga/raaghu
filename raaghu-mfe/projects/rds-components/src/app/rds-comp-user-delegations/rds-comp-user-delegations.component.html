<form #userDelegation="ngForm">
  <div class="tab-content">
    <div aria-labelledby="nav-Deligation" class="h-100">
      <div class="card border-0 h-100">
        <div class="card-header border-bottom">
          <h5 class="card-title">{{"USER DELEGATES"|translate}}</h5>
        </div>
        <div class="card-body ">
          <div class=" ">
            <div class="row">
              <div class="col-sm-12 mb-3 sm-p-0">
                <rds-button [label]="translate.instant('DELEGATE NEW USER')" (click)="hideandShowdelegateform()" type="button"
                            [size]="'medium'" [colorVariant]="'primary'" [icon]="'plus'" iconHeight="12px" iconWidth="12px">
                </rds-button>
              </div>
              <div class="col-sm-12" *ngIf="deligateDivFlag">
                <div class="col-md-12">
                  <div class="form-group mb-3">
                    <rds-select-list [(ngModel)]="username" [labelText]="translate.instant('Username')" [placeholderText]="'Select User Name'" [value]="username" ngDefaultControl
                                     name="usernameData" #user_name="ngModel" [(ngModel)]="UserName"  required [itemList]="userList">
                     
                    </rds-select-list>
                    <div class="form-control-feedback"
                    *ngIf="user_name.errors && (user_name.dirty || user_name.touched)">
                    <span class="text-danger" *ngIf="user_name.errors.required">{{"User Name is required"|translate}}</span>
                  </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group mb-3">
                      <rds-datepicker name="date-picker" [Label]="translate.instant('Start Date')" [(ngModel)]="StartDate"
                                      [value]="StartDate"></rds-datepicker>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group mb-3">
                      <rds-datepicker name="date-picker" [Label]="translate.instant('End Date')" [(ngModel)]="endDate" [value]="endDate">
                      </rds-datepicker>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12">
                    <div class="mb-3 add-button">
                      <rds-button [disabled]="!selectedUser||selectedUser===''||selectedUser===null" [label]="translate.instant('Add')"
                                  type="button" [size]="'medium'" (click)="addUser()" [colorVariant]="'primary'">
                      </rds-button>
                    </div>
                  </div>
                  <div class="col-sm-12">
                    <app-rds-data-table [tableData]="rdsDeligateTableData"
                                        [pagination]="pagination"
                                        (deleteEvent)="deleteDeligateData($event)"
                                        [recordsPerPage]="recordsPerpage"
                                        [actions]="actions"
                                        [tableHeaders]="rdsDeligateTableHeader"
                                        noDataTitle="Currently you do not have delegate new user"></app-rds-data-table>
                    <!-- <mfe-loader [config]="rdsDeligateTableMfeConfig"></mfe-loader> -->
                  </div>
                </div>
                
                
              </div>
            </div>
          </div>
        </div>
        
      </div>
    
    </div>
  </div>
  <div class="footer-buttons my-2 shadow-none">
    <div class="row">
      <div class="col-sm-12">
        <rds-button [label]="translate.instant('Cancel')"
                    data-bs-dismiss="offcanvas"
                    [colorVariant]="'outline-primary'"
                    type="button"
                    [size]="'medium'"
                    (click)="onCancel()">
        </rds-button>
        <rds-button [label]="translate.instant('Save')"
                    [disabled]="!rdsDeligateTableData || rdsDeligateTableData.length === 0"
                    
                    type="button"
                    [size]="'medium'"
                    (click)="onSave(userDelegation)"
                    class="ms-2"
                    [colorVariant]="'primary'">
        </rds-button>
      </div>
    </div>
  </div>   
</form>